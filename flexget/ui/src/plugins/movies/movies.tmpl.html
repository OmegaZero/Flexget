<div layout="column" flex>
	<md-autocomplete
			md-items="movie in vm.searchMovies(searchText)"
			md-search-text="searchText"
			md-delay="1000"
			md-min-length="3"
			md-floating-label="Add a movie">
			<md-item-template >
				<div ng-click="vm.movieSelected($event)" class="movie-select">
					<span class="item-title">
						<span md-hightlight-text="searchText">{{ movie.name }} ({{ movie.year }})</span>

						<md-input-container>
							<label>Movie List</label>
							<md-select ng-model="listid"
								md-container-class="list-selection">
								<md-option ng-repeat="list in ::vm.lists" value="{{ list.id }}">
									{{ list.name }}
								</md-option>
							</md-select>
						</md-input-container>

						<md-button class="md-raised" ng-click="vm.addMovie(movie, listid)">Add</md-button>
					</span>
				</div>
			</md-item-template>
			<md-not-found>
				No movies found
			</md-not-found>
		</md-autocomplete>
	<md-content flex ng-if="vm.lists">
		<md-tabs md-dynamic-height md-border-bottom class="movie-tabs">
			<movie-list ng-repeat="list in vm.lists" 
				list="::list" 
				delete-movie-list="vm.deleteMovieList(list)"
				tab-index="$index">
			</movie-list>
			<md-tab class="test">
				<md-tab-label layout-fill>
					<section ng-click="vm.newList($event)">
						<md-icon md-font-icon="fa-plus-circle" class="fa tab-icon-plus fa-lg"></md-icon>
					</section>
				</md-tab-label>
			</md-tab>
		</md-tabs>
	</md-content>
	<!-- TODO: Add screen that allows users to create their first list -->
</div>